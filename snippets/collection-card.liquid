{% comment %}
  Renders a collection card within a collection list. Usually within a collection template or the Featured Collections section

  Accepts:
  - collection: {object} The collection object - https://shopify.dev/docs/api/liquid/objects/collection
  - block: {object} (Optional) The section block, if rendered within the Featured Collections section.

  Usage:
  {% render 'collection-card' collection: collection, block: block  %}
{% endcomment %}

{% liquid 
  assign img = block.settings.img | default: collection.image
  assign title = block.settings.title | default: collection.title
%}

<div class="collection-card {{ section.settings.collection_card_text_align }}">
  <a 
    href="{{ collection.url }}" 
    class="collection-card-link">
    <div class="collection-card-img-wrapper">
      {% render 'image-url', img: img, size: section.settings.collection_card_img_size, orientation: section.settings.collection_card_img_orientation, class: section.settings.collection_card_img_border %}
      {% if section.settings.collection_card_show_title and section.settings.collection_card_title_position_new == 'overlay' %}
        <div class="collection-card-title-overlay">
          <h3 
            class="
              collection-card-title collection-title mb-0 
              {{ section.settings.collection_card_title_font_size }}
            ">
            {{ title }}
          </h3>
          {% if section.settings.collection_card_show_button %}
            <div class="collection-card-button-wrapper">
              <button class="collection-card-shop-now-btn">
                Shop Now >
              </button>
            </div>
          {% endif %}
        </div>
      {% endif %}
    </div>
    {% if section.settings.collection_card_show_title and section.settings.collection_card_title_position_new == 'below' %}
      <div class="collection-card-title-below">
        <h3 
          class="
            collection-card-title collection-title mb-2 
            {{ section.settings.collection_card_title_font_size }}
          ">
          {{ title }}
        </h3>
        {% if section.settings.collection_card_show_button %}
          <div class="collection-card-button-wrapper">
            <button class="collection-card-shop-now-btn">
              Shop Now >
            </button>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </a>
</div>